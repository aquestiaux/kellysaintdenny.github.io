<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Management System ‚Äì Dr. Kelly Saint Denny</title>
  <meta name="description" content="Secure content management for kellysaintdenny.com" />
  <meta name="robots" content="noindex, nofollow" />
  <link rel="canonical" href="https://kellysaintdenny.com/admin/cms.html" />
  <meta name="theme-color" content="#4f46e5" />
  <link rel="stylesheet" href="/assets/styles.css" />
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <style>
    .cms-container { min-height: 100vh; background: var(--bg); display: flex; flex-direction: column; }
    .cms-header { background: var(--card); border-bottom: 1px solid var(--border); padding: 1rem 0; }
    .cms-header .container { display: flex; justify-content: space-between; align-items: center; }
    .cms-brand { display: flex; align-items: center; gap: 0.75rem; text-decoration: none; color: var(--text); font-weight: 600; }
    .cms-brand img { width: 32px; height: 32px; }
    .cms-nav { display: flex; gap: 1rem; align-items: center; }
    .cms-nav a { padding: 0.5rem 1rem; background: var(--accent); color: white; text-decoration: none; border-radius: 8px; font-size: 0.9rem; transition: background .2s ease; }
    .cms-nav a:hover { background: color-mix(in srgb, var(--accent) 80%, transparent); }
    .cms-main { flex: 1; display: flex; flex-direction: column; }
    .cms-content { flex: 1; padding: 2rem 0; }
    .cms-info { max-width: 800px; margin: 0 auto; padding: 0 1.5rem; text-align: center; }
    .cms-content-wrapper { max-width: 1000px; margin: 0 auto; padding: 2rem; }
    .cms-content-wrapper h1 { text-align: center; color: var(--accent); margin-bottom: 1rem; }
    .cms-content-wrapper p { text-align: center; color: var(--muted); margin-bottom: 2rem; }
    .cms-sections { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 2rem 0; }
    .cms-section { background: var(--card); padding: 2rem; border-radius: 12px; border: 1px solid var(--border); }
    .cms-section h3 { color: var(--accent); margin-bottom: 1rem; }
    .cms-section p { color: var(--text); margin-bottom: 1.5rem; line-height: 1.6; }
    .cms-actions { display: flex; gap: 1rem; flex-wrap: wrap; }
    .cms-setup-notice { background: var(--card); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border); margin-top: 2rem; text-align: center; }
    .cms-setup-notice h4 { color: var(--accent); margin-bottom: 1rem; }
    .cms-footer { background: var(--card); border-top: 1px solid var(--border); padding: 1rem 0; text-align: center; color: var(--muted); }
    .btn { display: inline-block; padding: 0.75rem 1.5rem; background: var(--accent); color: white; text-decoration: none; border-radius: 8px; font-weight: 500; transition: background .2s ease; border: none; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: color-mix(in srgb, var(--accent) 80%, transparent); }
    .btn-secondary { background: var(--muted); color: var(--text); }
    .btn-secondary:hover { background: color-mix(in srgb, var(--muted) 80%, transparent); }
    .btn-group { display: flex; gap: 1rem; margin: 2rem 0; justify-content: center; flex-wrap: wrap; }
  </style>
</head>
<body>
  <div class="cms-container">
    <header class="cms-header">
      <div class="container">
        <a href="/admin/" class="cms-brand">
          <img src="/assets/logo.svg" alt="KSD Logo" />
          <span>Dr. Kelly Saint Denny - CMS</span>
        </a>
        <nav class="cms-nav">
          <a href="/" target="_blank">View Site</a>
          <a href="/admin/" target="_blank">Admin Home</a>
          <div data-netlify-identity-menu></div>
          <button id="theme-toggle" class="btn btn-secondary">üåì</button>
        </nav>
      </div>
    </header>

    <main class="cms-main">
      <div class="cms-content">
        <div id="cmsInterface">
          <div class="cms-content-wrapper">
            <h1>üöÄ Content Management System</h1>
            <p>Welcome to your secure content management interface</p>
            
            <div class="cms-sections">
              <div class="cms-section">
                <h3>üìù Blog Management</h3>
                <p>Create, edit, and manage your blog posts with professional tools.</p>
                <div class="cms-actions">
                  <button class="btn" onclick="showBlogEditor()">‚úèÔ∏è Create New Post</button>
                  <button class="btn btn-secondary" onclick="showBlogList()">üìã View All Posts</button>
                </div>
              </div>
              
              <div class="cms-section">
                <h3>‚öôÔ∏è Site Settings</h3>
                <p>Configure your website settings, meta information, and social links.</p>
                <div class="cms-actions">
                  <button class="btn" onclick="showSiteSettings()">üîß Edit Settings</button>
                </div>
              </div>
              
              <div class="cms-section">
                <h3>üìä Analytics & Insights</h3>
                <p>View your content performance and visitor analytics.</p>
                <div class="cms-actions">
                  <button class="btn btn-secondary" onclick="showAnalytics()">üìà View Analytics</button>
                </div>
              </div>
            </div>
            
            <div class="cms-setup-notice">
              <h4>üîê Authentication Status</h4>
              <div id="authStatus">Checking authentication...</div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="cms-footer">
      <div class="container">
        <p>&copy; <span id="year"></span> Dr. Kelly Saint Denny - Secure CMS Portal</p>
      </div>
    </footer>
  </div>

  <script src="/assets/script.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    
    // CMS Interface Functions
    function showBlogEditor() {
      alert('Blog editor will be implemented with full OAuth setup');
    }
    
    function showBlogList() {
      alert('Blog list will be implemented with full OAuth setup');
    }
    
    function showSiteSettings() {
      alert('Site settings will be implemented with full OAuth setup');
    }
    
    function showAnalytics() {
      alert('Analytics will be implemented with full OAuth setup');
    }
    
    // Update authentication status
    function updateAuthStatus(user) {
      const authStatus = document.getElementById('authStatus');
      if (user) {
        authStatus.innerHTML = `
          <div style="color: #10b981; font-weight: 600;">
            ‚úÖ Authenticated as ${user.email}
          </div>
          <p style="margin-top: 0.5rem; color: var(--muted);">
            You can now access all CMS features
          </p>
        `;
      } else {
        authStatus.innerHTML = `
          <div style="color: #f59e0b; font-weight: 600;">
            ‚ö†Ô∏è Not authenticated
          </div>
          <p style="margin-top: 0.5rem; color: var(--muted);">
            Please log in to access CMS features
          </p>
        `;
      }
    }
    
    // Netlify Identity: handle authentication
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on('init', user => {
        updateAuthStatus(user);
        if (!user) {
          window.netlifyIdentity.on('login', () => {
            updateAuthStatus(user);
          });
        }
      });
    } else {
      updateAuthStatus(null);
    }
  </script>
</body>
</html>
